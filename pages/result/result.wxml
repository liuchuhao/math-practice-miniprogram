<!-- pages/result/result.wxml -->
<view class="container">
  
  <!-- 1. æˆç»©å¤§å¡ç‰‡ -->
  <view class="result-card">
    <view class="card-header">
      <text class="grade-tag">{{gradeName}}</text>
      <text class="date">{{formattedDate || 'åˆšåˆš'}}</text>
    </view>

    <!-- åˆ†æ•°å±•ç¤º -->
    <view class="score-section">
      <view class="score-circle">
        <text class="score-num">{{score}}</text>
        <text class="score-label">æœ€ç»ˆå¾—åˆ†</text>
      </view>
      <text class="cheer-text">{{cheerMsg}}</text>
    </view>

    <!-- è¯¦ç»†æ•°æ®ç½‘æ ¼ -->
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-val">{{correctCount}}</text>
        <text class="stat-key">ç­”å¯¹</text>
      </view>
      <view class="stat-item">
        <text class="stat-val wrong">{{wrongCount}}</text>
        <text class="stat-key">ç­”é”™</text>
      </view>
      <view class="stat-item">
        <text class="stat-val">{{correctRate}}</text>
        <text class="stat-key">æ­£ç¡®ç‡</text>
      </view>
      <view class="stat-item">
        <text class="stat-val time">{{time}}</text>
        <text class="stat-key">è€—æ—¶</text>
      </view>
    </view>
  </view>

  <!-- 2. ä¸Šä¼ çŠ¶æ€æç¤º -->
  <view class="upload-status" wx:if="{{score > 0}}">
    <icon type="success" size="14" color="#2ecc71"></icon>
    <text>æˆ˜ç»©å·²è‡ªåŠ¨ä¸Šä¼ è‡³æ’è¡Œæ¦œ</text>
  </view>

  <!-- 3. æŒ‰é’®åŠŸèƒ½åŒº (ä¿®å¤ç‰ˆ) -->
  <view class="action-box">
    
    <!-- ç¬¬ä¸€è¡Œï¼šæ ¸å¿ƒæ“ä½œ (æ¦œå• + åˆ†äº«) -->
    <view class="primary-btns">
      <button class="btn rank-btn" bindtap="goToRank">
        <text>ğŸ† æŸ¥çœ‹æ¦œå•</text>
      </button>
      <!-- open-type="share" æ˜¯å”¤èµ·å¾®ä¿¡åˆ†äº«çš„å…³é”® -->
      <button class="btn share-btn" open-type="share">
        <text>ğŸ‰ åˆ†äº«æˆç»©</text>
      </button>
    </view>
    
    <!-- ç¬¬äºŒè¡Œï¼šå¯¼èˆªæ“ä½œ (å†ç»ƒã€å†å²ã€é¦–é¡µ) -->
    <view class="secondary-btns">
      <button class="btn nav-btn" bindtap="restartPractice">ğŸ”„ å†ç»ƒä¸€æ¬¡</button>
      <button class="btn nav-btn" bindtap="viewHistory">ğŸ“… å†å²è®°å½•</button>
      <button class="btn nav-btn" bindtap="goHome">ğŸ  è¿”å›é¦–é¡µ</button>
    </view>

  </view>
</view>