<view class="container">
  <!-- 1. é¡¶éƒ¨ä»ªè¡¨ç›˜ -->
  <view class="header">
    <view class="counter-box">
      <text class="icon">ğŸ’£</text>
      <text class="val">{{mineCount}}</text>
    </view>
    <view class="face-btn" bindtap="restartGame">
      {{isGameover ? 'ğŸ˜µ' : 'ğŸ™‚'}}
    </view>
    <view class="timer-box">
      <text class="icon">â±ï¸</text>
      <text class="val">{{timeStr}}</text>
    </view>
  </view>

  <!-- 2. æ‰«é›·æ£‹ç›˜ -->
  <view class="board-wrap">
    <view class="grid-board" style="grid-template-columns: repeat({{cols}}, 1fr);">
      <block wx:for="{{grid}}" wx:for-item="row" wx:for-index="r" wx:key="r">
        <block wx:for="{{row}}" wx:for-item="cell" wx:for-index="c" wx:key="c">
          
          <view 
            class="cell status-{{cell.status}} val-{{cell.value}} {{cell.isBoom ? 'boom' : ''}}"
            bindtap="onCellTap"
            bindlongpress="onCellLongPress"
            data-r="{{r}}"
            data-c="{{c}}"
          >
            <!-- çŠ¶æ€1: å·²ç¿»å¼€ -->
            <block wx:if="{{cell.status === 1}}">
              <text wx:if="{{cell.value === -1}}">ğŸ’£</text>
              <text wx:elif="{{cell.value > 0}}" class="num num-{{cell.value}}">{{cell.value}}</text>
              <!-- 0 ä¸æ˜¾ç¤ºå†…å®¹ -->
            </block>

            <!-- çŠ¶æ€2: æ’æ—— -->
            <block wx:if="{{cell.status === 2}}">
              <text class="flag">ğŸš©</text>
            </block>

          </view>

        </block>
      </block>
    </view>
  </view>

  <!-- 3. æ“ä½œæç¤º -->
  <view class="tips">
    <view class="tip-item"><text>ğŸ‘† çŸ­æŒ‰</text>ç¿»å¼€æ ¼å­</view>
    <view class="tip-item"><text>ğŸ‘‡ é•¿æŒ‰</text>æ ‡è®°åœ°é›·</view>
  </view>
</view>