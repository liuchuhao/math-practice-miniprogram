/* 使用 Grid 布局完美实现 5x5 */
.container {
  height: 100vh;
  background: linear-gradient(180deg, #e3f2fd 0%, #f5f7fa 100%);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 40rpx;
  box-sizing: border-box;
}

.status-bar {
  display: flex;
  justify-content: space-between;
  width: 90%;
  margin-bottom: 40rpx;
  /* [新增] 固定高度，防止内部撑开导致布局跳动 */
  height: 140rpx; 
}

.timer-box, .target-box, .best-box {
  background: white;
  padding: 20rpx 10rpx; /* 减小左右padding，改用固定宽度 */
  border-radius: 20rpx;
  text-align: center;
  box-shadow: 0 4rpx 10rpx rgba(0,0,0,0.05);
  
  /* [关键修复1] 使用 flex:1 和固定宽度，防止文字长短变化导致盒子伸缩 */
  flex: 1; 
  margin: 0 10rpx;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.label { 
  font-size: 24rpx; 
  color: #95a5a6; 
  margin-bottom: 6rpx;
}
/* [关键修复2] 加上 tabular-nums，让数字等宽（防止 1 和 8 宽度不同导致抖动） */
.time { 
  font-size: 36rpx; 
  color: #3498db; 
  font-weight: bold; 
  font-family: monospace; 
  font-variant-numeric: tabular-nums; 
}

.next-num { 
  font-size: 44rpx; 
  color: #e74c3c; 
  font-weight: bold; 
  font-variant-numeric: tabular-nums; /* 关键 */
}

.best { 
  font-size: 30rpx; 
  color: #f39c12; 
  font-weight: bold; 
  font-variant-numeric: tabular-nums; /* 关键 */
}

/* 核心棋盘 */
.grid-container {
  display: grid;
  /* grid-template-columns: ...  <-- 这行删掉，由 WXML 的 style 控制 */
  gap: 15rpx;
  width: 90%;
  background: white;
  padding: 20rpx;
  border-radius: 30rpx;
  box-shadow: 0 10rpx 30rpx rgba(0,0,0,0.1);
  margin-top: 20rpx;
}

.grid-cell {
  aspect-ratio: 1; 
  background: #f0f7ff;
  border-radius: 16rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: #2c3e50;
  box-shadow: 0 4rpx 0 #dbeafe;
  /* [新增] 禁止长按选中文字，禁止弹出系统菜单 */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}
.grid-cell.clicked {
  background: #f1f2f6;
  color: #e0e0e0;
  box-shadow: none;
  pointer-events: none; /* 确保点过的不再响应 */
}
/* 针对不同难度的字体大小优化 */
.grid-cell.size-3 { font-size: 60rpx; } /* 3x3 字大一点 */
.grid-cell.size-4 { font-size: 50rpx; }
.grid-cell.size-5 { font-size: 40rpx; }

/* 按下效果 */
.grid-cell:active { 
  background: #dbeafe; 
  opacity: 1; /* 保持不透明，反应更快 */
  box-shadow: none; /* 按下时去掉阴影，模拟真实按键感 */
  transform: translateY(4rpx); /* 物理下沉感，这个不影响速度 */
}
/* 点击过的数字 */
.grid-cell.clicked {
  background: #f1f2f6;
  color: #e0e0e0; /* 颜色变得更淡，减少视觉干扰 */
  box-shadow: none;
  transform: none; /* 复位 */
  pointer-events: none; /* 【关键修改】点过的格子禁止再次触发点击，防止误触 */
}

.controls { margin-top: 60rpx; width: 60%; }
.btn.restart {
  background: #3498db; color: white; border-radius: 40rpx; font-weight: bold;
}
.tips { margin-top: 30rpx; font-size: 26rpx; color: #7f8c8d; }